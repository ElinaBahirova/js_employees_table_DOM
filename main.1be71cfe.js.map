{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","headers","querySelectorAll","sortTable","e","rows","i","target","sort","a","b","dataA","innerText","dataB","isSorted","parseFloat","slice","localeCompare","row","append","header","addEventListener","closest","classList","add","remove","form","createElement","className","formFields","cities","createOptions","data","element","length","option","value","toLocaleLowerCase","label","input","type","dataset","qa","name","required","id","htmlFor","button","cpitalizeIt","text","result","toUpperCase","toLocaleUpperCase","formMethod","body","preventDefault","newRow","FormData","get","pushNotification","newData","toLocaleString","description","notification","messageTitle","message","title","style","bottom","right","setTimeout","hidden","cell","newInput","initialValue","focus","ev","key"],"mappings":";AAAA,aAkPC,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,MAAA,EAAA,OAAA,UAAA,CAAA,GAAA,MAAA,QAAA,KAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,aAAA,MAAA,CAAA,EAAA,EAAA,EAAA,WAAA,OAAA,GAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,GAAA,MAAA,GAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yIAAA,IAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,CAAA,EAAA,WAAA,EAAA,EAAA,OAAA,aAAA,EAAA,WAAA,IAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA,KAAA,GAAA,EAAA,SAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,WAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAhPD,IAAMA,EAAQC,SAASC,cAAc,SAC/BC,EAAUF,SAASG,iBAAiB,mBACpCC,EAAY,SAACC,GAGZ,IAFDC,IAAAA,EAAON,SAASG,iBAAiB,cAE5BI,EAAAA,SAAAA,GACHF,EAAEG,SAAWN,EAAQK,KACvBD,EAAO,EAAIA,GAAMG,KAAK,SAACC,EAAGC,GACpBC,IAAAA,EAAQF,EAAEP,iBAAiB,MAAMI,GAAGM,UACpCC,EAAQH,EAAER,iBAAiB,MAAMI,GAAGM,UAEpCR,MAAuB,QAAvBA,EAAEG,OAAOK,UACJR,EAAEG,OAAOO,UACXD,GAASF,GAASA,GAASE,EAGP,WAAvBT,EAAEG,OAAOK,WACXD,EAAQI,WAAWJ,EAAMK,MAAM,IAC/BH,EAAQE,WAAWF,EAAMG,MAAM,IAExBZ,EAAEG,OAAOO,UACXD,GAASF,GAASA,GAASE,GAG3BT,EAAEG,OAAOO,SACZD,EAAMI,cAAcN,GAASA,EAAMM,cAAcJ,OApBlDP,EAAI,EAAGA,EAAI,EAAGA,IAAdA,EAAAA,GAyBSD,IA5BK,EA4BLA,EAAAA,EAAAA,GA5BK,IA4BC,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAba,IAAAA,EAAa,EAAA,MACtBnB,SAASC,cAAc,SAASmB,OAAOD,IA7BlB,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAgCnBd,EAAEG,OAAOO,SACXV,EAAEG,OAAOO,UAAW,EAEpBV,EAAEG,OAAOO,UAAW,EAGDb,IAtCE,EAsCFA,EAAAA,EAAAA,GAtCE,IAsCO,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAnBmB,IAAAA,EAAmB,EAAA,MACxBA,IAAWhB,EAAEG,SACfa,EAAON,UAAW,IAxCC,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,MA6CzBhB,EAAMuB,iBAAiB,QAASlB,GAEhCJ,SAASC,cAAc,SAASqB,iBAAiB,QAAS,SAAAjB,GAClDC,IADuD,EAG3CA,EAAAA,EAFLN,SAASG,iBAAiB,eADsB,IAGrC,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAbgB,IAAAA,EAAa,EAAA,MAClBd,EAAEG,OAAOe,QAAQ,QAAUJ,EAC7BA,EAAIK,UAAUC,IAAI,UAElBN,EAAIK,UAAUE,OAAO,WAPoC,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,OAY/D,IAAMC,EAAO3B,SAAS4B,cAAc,QAEpCD,EAAKE,UAAY,oBAEjB,IAAMC,EAAa,CAAC,OAAQ,WAAY,SAAU,MAAO,UACnDC,EACF,CAAC,QAAS,YAAa,SAAU,WAAY,YAAa,iBAE9D,SAASC,EAAcC,EAAMC,GACtB,IAAA,IAAI3B,EAAI,EAAGA,EAAI0B,EAAKE,OAAQ5B,IAAK,CAC9B6B,IAAAA,EAASpC,SAAS4B,cAAc,UAEtCQ,EAAOC,MAAQJ,EAAK1B,GAAG+B,oBACvBF,EAAOvB,UAAYoB,EAAK1B,GACxB2B,EAAQd,OAAOgB,IAInB,IAAK,IAAI7B,EAAI,EAAGA,EAAI,EAAGA,IAAK,CACpBgC,IAAAA,EAAQvC,SAAS4B,cAAc,SACjCY,EAAQxC,SAAS4B,cAAc,SAEnCW,EAAM1B,UAAYiB,EAAWvB,GAAK,IAClCiC,EAAMC,KAAO,OAES,QAAlBX,EAAWvB,IAAkC,WAAlBuB,EAAWvB,KACxCiC,EAAMC,KAAO,UAGO,WAAlBX,EAAWvB,IAEbyB,EAAcD,EADdS,EAAQxC,SAAS4B,cAAc,WAGjCY,EAAME,QAAQC,GAAKb,EAAWvB,GAAG+B,oBACjCE,EAAMI,KAAOd,EAAWvB,GAAG+B,oBAC3BE,EAAMK,UAAW,EACjBL,EAAMM,GAAKhB,EAAWvB,GAAG+B,oBACzBC,EAAMQ,QAAUP,EAAMM,GAEtBP,EAAMnB,OAAOoB,GACbb,EAAKP,OAAOmB,GAGd,IAAMS,EAAShD,SAAS4B,cAAc,UAuDtC,SAASqB,EAAYC,GAGd,IAFDC,IAAAA,EAASD,EAAKjC,MAAM,EAAG,GAAGmC,cAErB7C,EAAI,EAAGA,EAAI2C,EAAKf,OAAQ5B,IACX,MAAhB2C,EAAK3C,EAAI,GACX4C,GAAU,IAAMD,EAAK3C,GAAG8C,oBAExBF,GAAUD,EAAK3C,GAIZ4C,OAAAA,EAhETH,EAAOnC,UAAY,gBACnBmC,EAAOM,WAAa,OACpBN,EAAOP,KAAO,SAEdd,EAAKP,OAAO4B,GAEZhD,SAASuD,KAAKnC,OAAOO,GAErBqB,EAAO1B,iBAAiB,QAAS,SAAAjB,GAC/BA,EAAEmD,iBAEIC,IAAAA,EAASzD,SAAS4B,cAAc,MAChCK,EAAO,IAAIyB,SAAS/B,GAEtBM,GAAAA,EAAK0B,IAAI,QAAQxB,OAAS,EAC5ByB,EACE,sDAAuD,cAIpD,IAAK3B,EAAK0B,IAAI,OAAS,KAAO1B,EAAK0B,IAAI,OAAS,GACrDC,EAAiB,0CAA2C,cAK1D3B,GAAyB,KAAzBA,EAAK0B,IAAI,aAA6C,KAAvB1B,EAAK0B,IAAI,UAAxC1B,CAMC,IAAA,IAAI1B,EAAI,EAAGA,EAAIuB,EAAWK,OAAQ5B,IAAK,CACpCsD,IAAAA,EAAU7D,SAAS4B,cAAc,MAEG,WAAtCE,EAAWvB,GAAG+B,oBAChBuB,EAAQhD,UAAY,MAAQoB,EAAK0B,IAAI7B,EAAWvB,GAAG+B,sBAChDwB,eAAe,SAElBD,EAAQhD,UACJoC,EAAYhB,EAAK0B,IAAI7B,EAAWvB,GAAG+B,sBAGzCmB,EAAOrC,OAAOyC,GAGhBD,EACE,mDAAoD,WAGtD7D,EAAME,cAAc,SAASmB,OAAOqC,QAvBlCG,EAAiB,iCAAkC,WAwCvD,IAmEC,EAnEKA,EAAmB,SAACG,EAAatB,GAE/BuB,IAAAA,EAAehE,SAAS4B,cAAc,OACtCqC,EAAejE,SAAS4B,cAAc,MACtCsC,EAAUlE,SAAS4B,cAAc,KACnCuC,EAAQ,GAEJ1B,OAAAA,GACD,IAAA,QACH0B,EAAQ,SACR,MACG,IAAA,UACHA,EAAQ,QACR,MACF,QACEA,EAAQ,aAGZH,EAAaxC,UAAUC,IAAI,gBAC3BuC,EAAaxC,UAAUC,IAAIgB,GAC3BwB,EAAapC,UAAY,QACzBoC,EAAapD,UAAYsD,EACzBD,EAAQrD,UAAYkD,EAEpBC,EAAaI,MAAMC,OAAnB,OACAL,EAAaI,MAAME,MAAnB,OACAN,EAAa5C,OAAO6C,GACpBD,EAAa5C,OAAO8C,GACpBF,EAAatB,QAAQC,GAAK,eAE1B3C,SAASuD,KAAKnC,OAAO4C,GAErBO,WAAW,WACTP,EAAaQ,QAAS,GACrB,MAGcxE,EAAAA,EAAAA,SAASG,iBAAiB,OA8B5C,IAAA,IAAA,EAAA,WA9BUsE,IAAAA,EAAAA,EAAAA,MACTA,EAAKnD,iBAAiB,WAAY,SAAAjB,GAC1BqE,IAAAA,EAAW1E,SAAS4B,cAAc,SAClC+C,EAAetE,EAAEG,OAAOK,UAE9B6D,EAAS7C,UAAY,aACrB6C,EAASjC,KAAO,OAChBiC,EAASrC,MAAQhC,EAAEG,OAAOK,UAC1BR,EAAEG,OAAOK,UAAY,GAErBR,EAAEG,OAAOY,OAAOsD,GAChBA,EAASE,QAETF,EAASpD,iBAAiB,OAAQ,SAAAuD,GACT,KAAnBH,EAASrC,MACXoC,EAAK5D,UAAY6D,EAASrC,MAE1BoC,EAAK5D,UAAY8D,EAEnBE,EAAGrE,OAAOkB,WAGZgD,EAASpD,iBAAiB,UAAW,SAAAuD,GACpB,UAAXA,EAAGC,KAAsC,KAAnBJ,EAASrC,MACjCoC,EAAK5D,UAAY6D,EAASrC,MACN,UAAXwC,EAAGC,MACZL,EAAK5D,UAAY8D,QA1B2B,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,IA8BnD,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA","file":"main.1be71cfe.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst headers = document.querySelectorAll('thead > tr > th');\nconst sortTable = (e) => {\n  let rows = document.querySelectorAll('tbody > tr');\n\n  for (let i = 0; i < 5; i++) {\n    if (e.target === headers[i]) {\n      rows = [...rows].sort((a, b) => {\n        let dataA = a.querySelectorAll('td')[i].innerText;\n        let dataB = b.querySelectorAll('td')[i].innerText;\n\n        if (e.target.innerText === 'Age') {\n          return e.target.isSorted\n            ? +dataB - +dataA : +dataA - +dataB;\n        }\n\n        if (e.target.innerText === 'Salary') {\n          dataA = parseFloat(dataA.slice(1));\n          dataB = parseFloat(dataB.slice(1));\n\n          return e.target.isSorted\n            ? +dataB - +dataA : +dataA - +dataB;\n        }\n\n        return e.target.isSorted\n          ? dataB.localeCompare(dataA) : dataA.localeCompare(dataB);\n      });\n    }\n  }\n\n  for (const row of rows) {\n    document.querySelector('tbody').append(row);\n  }\n\n  if (e.target.isSorted) {\n    e.target.isSorted = false;\n  } else {\n    e.target.isSorted = true;\n  }\n\n  for (const header of headers) {\n    if (header !== e.target) {\n      header.isSorted = false;\n    }\n  }\n};\n\ntable.addEventListener('click', sortTable);\n\ndocument.querySelector('table').addEventListener('click', e => {\n  const rows = document.querySelectorAll('tbody > tr');\n\n  for (const row of rows) {\n    if (e.target.closest('tr') === row) {\n      row.classList.add('active');\n    } else {\n      row.classList.remove('active');\n    }\n  }\n});\n\nconst form = document.createElement('form');\n\nform.className = 'new-employee-form';\n\nconst formFields = ['Name', 'Position', 'Office', 'Age', 'Salary'];\nconst cities\n  = ['Tokyo', 'Singapore', 'London', 'New York', 'Edinburgh', 'San Francisco'];\n\nfunction createOptions(data, element) {\n  for (let i = 0; i < data.length; i++) {\n    const option = document.createElement('option');\n\n    option.value = data[i].toLocaleLowerCase();\n    option.innerText = data[i];\n    element.append(option);\n  }\n}\n\nfor (let i = 0; i < 5; i++) {\n  const label = document.createElement('label');\n  let input = document.createElement('input');\n\n  label.innerText = formFields[i] + ':';\n  input.type = 'text';\n\n  if (formFields[i] === 'Age' || formFields[i] === 'Salary') {\n    input.type = 'number';\n  }\n\n  if (formFields[i] === 'Office') {\n    input = document.createElement('select');\n    createOptions(cities, input);\n  }\n  input.dataset.qa = formFields[i].toLocaleLowerCase();\n  input.name = formFields[i].toLocaleLowerCase();\n  input.required = true;\n  input.id = formFields[i].toLocaleLowerCase();\n  label.htmlFor = input.id;\n\n  label.append(input);\n  form.append(label);\n}\n\nconst button = document.createElement('button');\n\nbutton.innerText = 'Save to table';\nbutton.formMethod = 'POST';\nbutton.type = 'submit';\n\nform.append(button);\n\ndocument.body.append(form);\n\nbutton.addEventListener('click', e => {\n  e.preventDefault();\n\n  const newRow = document.createElement('tr');\n  const data = new FormData(form);\n\n  if (data.get('name').length < 4) {\n    pushNotification(\n      'Name is too short. Minimal name length is 4 letter.', 'error'\n    );\n\n    return;\n  } else if (+data.get('age') > 90 || +data.get('age') < 18) {\n    pushNotification('Аge must be between 18 and 90 years old', 'error');\n\n    return;\n  }\n\n  if (data.get('position') === '' || data.get('salary') === '') {\n    pushNotification('Fill in all fields of the form', 'error');\n\n    return;\n  }\n\n  for (let i = 0; i < formFields.length; i++) {\n    const newData = document.createElement('td');\n\n    if (formFields[i].toLocaleLowerCase() === 'salary') {\n      newData.innerText = '$' + (+data.get(formFields[i].toLocaleLowerCase()))\n        .toLocaleString('en-US');\n    } else {\n      newData.innerText\n        = cpitalizeIt(data.get(formFields[i].toLocaleLowerCase()));\n    }\n\n    newRow.append(newData);\n  }\n\n  pushNotification(\n    'New employee is successfully added to the table.', 'success'\n  );\n\n  table.querySelector('tbody').append(newRow);\n});\n\nfunction cpitalizeIt(text) {\n  let result = text.slice(0, 1).toUpperCase();\n\n  for (let i = 1; i < text.length; i++) {\n    if (text[i - 1] === ' ') {\n      result += ' ' + text[i].toLocaleUpperCase();\n    } else {\n      result += text[i];\n    }\n  }\n\n  return result;\n};\n\nconst pushNotification = (description, type) => {\n  // write code here\n  const notification = document.createElement('div');\n  const messageTitle = document.createElement('h2');\n  const message = document.createElement('p');\n  let title = '';\n\n  switch (type) {\n    case 'error':\n      title = 'Error!';\n      break;\n    case 'success':\n      title = 'Done!';\n      break;\n    default:\n      title = 'Try again.';\n  }\n\n  notification.classList.add('notification');\n  notification.classList.add(type);\n  messageTitle.className = 'title';\n  messageTitle.innerText = title;\n  message.innerText = description;\n\n  notification.style.bottom = `10px`;\n  notification.style.right = `10px`;\n  notification.append(messageTitle);\n  notification.append(message);\n  notification.dataset.qa = 'notification';\n\n  document.body.append(notification);\n\n  setTimeout(() => {\n    notification.hidden = true;\n  }, 2000);\n};\n\nfor (const cell of document.querySelectorAll('td')) {\n  cell.addEventListener('dblclick', e => {\n    const newInput = document.createElement('input');\n    const initialValue = e.target.innerText;\n\n    newInput.className = 'cell-input';\n    newInput.type = 'text';\n    newInput.value = e.target.innerText;\n    e.target.innerText = '';\n\n    e.target.append(newInput);\n    newInput.focus();\n\n    newInput.addEventListener('blur', ev => {\n      if (newInput.value !== '') {\n        cell.innerText = newInput.value;\n      } else {\n        cell.innerText = initialValue;\n      }\n      ev.target.remove();\n    });\n\n    newInput.addEventListener('keydown', ev => {\n      if (ev.key === 'Enter' && newInput.value !== '') {\n        cell.innerText = newInput.value;\n      } else if (ev.key === 'Enter') {\n        cell.innerText = initialValue;\n      }\n    });\n  });\n}\n"]}